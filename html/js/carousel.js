(function(a){var h={counter:false,counterClass:"indicator",counterId:"",startSlide:0,exclude:"",autoChange:false,autoDelay:0,autoInterval:3,swipe:false,oneway:false,fixedHeight:true,minSwipeDistance:30,animationClass:"animateLeft"},c=function(){for(var b=["transitionend","oTransitionEnd","webkitTransitionEnd"],c=b.length,a=0;a<c;a++)if("on"+b[a].toLowerCase() in window===true)return b[a];if(window.navigator.userAgent.match(/Firefox/i)!==null)return b[0];return false}(),i=function(c,d,a){var b=c[0]-d[0],e=c[1]-d[1];if(typeof a==="undefined")a=h.minSwipeDistance;if(Math.abs(b)>Math.abs(e)&&Math.abs(b)>a)return b<0?-1:1;return 0},f=function(b,c){var a=-1,d=c.carousel.slides.length-1,e=c.carousel.settings;if(typeof b.el!=="undefined"&&b.el.length!==0){a=c.carousel.slides.index(b.el);return a}else if(typeof b.direction!=="undefined")a=c.carousel.currentSlide+parseInt(b.direction,10);else if(typeof b.slide!=="undefined")a=parseInt(b.slide,10);if(e.oneway===true&&(a>d||a<0))a=c.carousel.currentSlide;else a=a>d?0:a<0?d:a;return a},d=function(a,b){if(a<0||a>b.slides.length-1||a===b.currentSlide)return false;return true},b=function(b){clearInterval(b.carousel.data.autoChangeInt);b.carousel.data.autoChangeInt=setInterval(function(){a(b).carousel("change",{direction:1})},b.carousel.settings.autoInterval*1e3)},j=function(a){var b=a.carousel.$el;if("ontouchstart" in window)b.on("touchstart",function(b){b=b.originalEvent;a.carousel.data.swipeStart=[b.touches[0].pageX,b.touches[0].pageY];a.carousel.data.swipeEnd=[]}).on("touchmove",function(c){if(a.carousel.data.swipeStart.length===0){c.preventDefault();return}c=c.originalEvent;a.carousel.data.swipeEnd=[c.touches[0].pageX,c.touches[0].pageY];var d=i(a.carousel.data.swipeStart,a.carousel.data.swipeEnd,a.carousel.settings.minSwipeDistance);console.log(d);if(d!==0){b.carousel("change",{direction:d});navigator.userAgent.match(/android/i)==null&&c.preventDefault();a.carousel.data.swipeStart=[]}}).on("touchend",function(b){if(a.carousel.data.swipeEnd.length!==0){b.preventDefault();a.carousel.data.swipeEnd=[]}});else b.on("click",function(){b.carousel("change",{direction:1})})},g=function(a,b){if(typeof a!=="undefined"&&a.length!==0){b++;a.children(".active").removeClass("active");a.children(":nth-child("+b+")").addClass("active")}},e={init:function(c){if(typeof c==="undefined")c={};if(typeof c.exclude!=="undefined"&&c.exclude!=="")c.exclude=":not("+c.exclude+")";return this.each(function(){var g=a(this),n=this,e;e=a.extend({},h,c);this.carousel={$el:g,settings:e,slides:g.children(e.exclude),currentSlide:0,autoChangeInt:0,data:{}};this.getSlide=function(a){a=typeof a!=="undefined"?a:this.carousel.currentSlide;return this.carousel.slides[a]};if(e.startSlide!==0)d(e.startSlide,this.carousel)===true&&g.carousel("skipTo",{slide:e.startSlide});if(e.autoChange===true){if(isNaN(e.autoDelay)===true)e.autoDelay=0;setTimeout(function(){b(n)},e.autoDelay*1e3)}if(e.swipe===true){this.carousel.data.swipeStart=this.carousel.data.swipeEnd=[];j(this)}e.fixedHeight===false&&g.css({height:this.carousel.slides.eq([this.carousel.currentSlide]).outerHeight(true)+"px"});if(e.counter===true){var f,m=[],k,i,o=this.carousel.slides.length,l=false;if(e.counterId!==""&&document.getElementById(e.counterId)!==null)f=a("#"+e.counterId);else{f=g.siblings("."+e.counterClass);if(f.length===0){f=document.createElement("ul");f.className=e.counterClass;f=a(f);g.after(f)}}if(f.prop("nodeName").toLowerCase()==="ul")l=true;for(i=0;i<o;i++){k=document.createElement(l===true?"li":"span");if(this.carousel.currentSlide===i)k.className="active";m.push(k)}f.append(m);this.carousel.counter=f}})},change:function(a){return this.each(function(){var l=this.carousel.$el,i=this.carousel.settings,m=this.carousel.slides,e,k=m.eq(this.carousel.currentSlide),h=f(a,this),j=h>this.carousel.currentSlide?1:-1,n=this;if(d(h,this.carousel)===false)return;e=m.eq(h);if(typeof a.direction!=="undefined")j=a.direction;if(this.clientHeight!==0&&this.clientWidth!==0){e.css({left:100*j+"%"});setTimeout(function(){var a=function(b){e.add(k).removeClass(i.animationClass);i.fixedHeight===false&&l.css({height:e.outerHeight(true)+"px"});b.currentTarget.removeEventListener(c,a,false)};if(c!==false){e.add(k).addClass(i.animationClass);k.css({left:-100*j+"%"});e.css({left:0}).get(0).addEventListener(c,a,false)}else{k.animate({left:-100*j+"%"});e.animate({left:0},function(){i.fixedHeight===false&&l.animate({height:e.outerHeight(true)+"px"})})}},50);l.trigger("carouseljs.change",[this.carousel.currentSlide,h]);this.carousel.currentSlide=h;g(this.carousel.counter,h)}i.autoChange===true&&b(this)})},skipTo:function(a){return this.each(function(){var i=this.carousel.$el,e=this.carousel.settings,h=this.carousel.slides,c=f(a,this),j;if(d(c,this.carousel)===false)return;h.eq(this.carousel.currentSlide).css({left:"100%"});targetSlide=h.eq(c).css({left:0});e.fixedHeight===false&&i.css({height:targetSlide.outerHeight(true)+"px"});i.trigger("carouseljs.skip",[this.carousel.currentSlide,c]);this.carousel.currentSlide=c;g(this.carousel.counter,c);e.autoChange&&b(this)})}};a.fn.carousel=function(a){if(e[a])return e[a].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof a==="object"||!a)return e.init.apply(this,arguments)}})(jQuery);
